#* @vtlvariable name="om" type="org.nrg.xdat.om.XnatSubjectdata" *#
#* @vtlvariable name="part_id" type="java.lang.String" *#
#* @vtlvariable name="project" type="java.lang.String" *#
#* @vtlvariable name="content" type="org.apache.turbine.services.pull.tools.ContentTool" *#
#* @vtlvariable name="arc" type="org.nrg.xdat.om.ArcArchivespecification" *#
#* @vtlvariable name="link" type="org.apache.turbine.util.template.TemplateLink" *#
<script type="text/javascript" LANGUAGE="JavaScript" src="$content.getURI('scripts/yui/build/calendar/calendar-min.js')"></SCRIPT>
<link type="text/css" rel="stylesheet" href="$content.getURI('scripts/yui/build/calendar/assets/skins/sam/calendar.css')">
<style type="text/css">
    #launchUploadAppletForm .select_label { display: inline-block ; width: 100px ; text-align: left ; }
    #launchUploadAppletForm th { padding: 0 ; }
    #launchUploadAppletForm tr { height: 25px ; line-height: 25px ; vertical-align: middle ; }
</style>
<form id="launchUploadAppletForm" class="noHide" action='$link.setPage("UploadApplet.vm")/popup/true' method="post" target='applet' onsubmit="popupWSize('about:blank',720,860,'applet'); return true;">
            <h3>Upload Image $displayManager.getPluralDisplayNameForImageSession()</h3>
                <p style="width:500px;margin-top:10px;margin-bottom:20px;">
                    DICOM and ECAT files can be uploaded using this online upload tool. Begin by selecting the $displayManager.getSingularDisplayNameForProject().toLowerCase(),
                    $displayManager.getSingularDisplayNameForSubject().toLowerCase(), and date for the $displayManager.getSingularDisplayNameForImageSession().toLowerCase() you wish to upload and then click the <b>Launch Uploader</b>
                    button. You will need Java installed in order and operational to use the uploader.
                    <a href="http://www.java.com/en/download/testjava.jsp" target="_blank">Check here</a> to verify that
                    your Java is working.
                </p>
        <table>
        <tr>
            <th align="left"><label for="project" class="select_label">$displayManager.getSingularDisplayNameForProject()</label></th>
            <td><select id="project" name="project" style="width:100%;min-width:200px;" disabled=true></select></td>
        </tr>
        <tr>
            <th align="left"><label for="part_id" class="select_label">$displayManager.getSingularDisplayNameForSubject()</label></th>
            <td><select id="part_id" name="part_id" style="width:100%;min-width:200px;" disabled=true>
                <option>(Select a $displayManager.getSingularDisplayNameForProject().toLowerCase())</option>
            </select></td>
        </tr>
      </table>
 <div id="hideIfProtocol" >
      <table border="0">       
        <tr>
            <th align="left"><label for="session_date" class="select_label">$displayManager.getSingularDisplayNameForImageSession() Date</label></th>
            <td>
                <input type="text" id="session_date" name="session_date"/>
                <script type="text/javascript">insertCalendar(document.getElementById("session_date"), "$displayManager.getSingularDisplayNameForImageSession() Date");</script>
            </td>
        </tr>
        <tr>
            <td>&nbsp;</td>
            <td>
                <input type="checkbox" id="no_session_date" name="no_session_date" value="true"/> <label for="no_session_date">I don't know the date or my $displayManager.getSingularDisplayNameForImageSession().toLowerCase() doesn't have a date</label>
            </td>
        </tr>
          </table>
        
        <script type="text/javascript" src="$content.getURI('scripts/subjectAssessorData/proj_subj_visit_selector.js')"></SCRIPT>
        <script type="text/javascript">
            #set($project = $om.getProject())
            #set($part_id = $om.getId())
            window.projectSubjectVisitManager = new ProjectSubjectVisitSelector("$!project", "$!part_id");
            window.projectSubjectVisitManager.init();
        </script>

     <br>

     <input type="hidden" id="session_id" name="session_id" value=""/>
     <input type="submit" id="gojuice" name="gojuice" value="Launch Uploader" disabled="true" style="min-width:135px;font-size:13px;" />

 </div> <!-- end of hideIfProtocol -->
<div id="forProtocolContent" style="display:none"></div>

    <p style="width:500px;margin:20px 0;">Looking for other ways to upload images? <a href="$link.setPage("AlternateImageUpload.vm")">Click here.</a></p>

</form>
