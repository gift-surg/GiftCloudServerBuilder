<script type="text/javascript" src="$content.getURI("scripts/project/settingsTabMgmt.js")"></script>
<table id="mgmt_container">
    <tr>
        <td>
            <div id="site_info_mgmt_div">
                <table>
                    <tr>
                        <th align="left">Site ID</th>
                        <td><input size="30" type="text" id="siteId" onchange="this.value=stringCamelCaps(this.value); window.siteInfoManager.dirtyForm();" disabled /></td>
                    </tr>
                    <tr>
                        <td colspan="2">The id used to refer to this site (also used to generate database ids). No spaces or non-alphanumeric characters.  It should be a short, one-word name or acronym which describes your site.</td>
                    </tr>
                    <tr>
                        <td colspan="2" style="line-height:4px">&nbsp;</td>
                    </tr>
                    <tr>
                        <th align="left">Site URL</th>
                        <td><input size="30" type="text" id="siteUrl" onchange="window.siteInfoManager.dirtyForm();" disabled /></td>
                    </tr>
                    <tr>
                        <td colspan="2">The address you want visible to users in emails, and other external links.  This should be a functional address (i.e. if the user pasted this address in their web browser, they should come to the site).  localhost only works if the web browser is located on the same machine.  You are required to guarantee that this address is functional for reaching the site.</td>
                    </tr>
                    <tr>
                        <td colspan="2" style="line-height:4px">&nbsp;</td>
                    </tr>
                    <tr>
                        <th align="left">Site Admin Email Address</th>
                        <td><input size="30" type="text" id="siteAdminEmail" onchange="window.siteInfoManager.dirtyForm();" disabled /></td>
                    </tr>
                    <tr>
                        <td colspan="2">The administrative email account (which will receive frequent emails).  The number of emails can be configured on the Administration > More > Email Settings dialog.</td>
                    </tr>
                    <tr>
                        <td colspan="2" style="line-height:4px">&nbsp;</td>
                    </tr>
                    <tr>
                        <th align="left">SMTP Host (Server)</th>
                        <td><input size="30" type="text" id="smtpHost" onchange="window.siteInfoManager.dirtyForm();" disabled /></td>
                    </tr>
                    <tr>
                        <td colspan="2">SMTP Server used to send emails generated by the system.</td>
                    </tr>
                </table>
            </div>
        </td>
    </tr>
</table>

<input type="button" value="Save" name="eventSubmit_doPerform" id="save_button" onclick="window.siteInfoManager.saveTabSettings();"/>&nbsp;
<input type="button" value="Reset" name="eventSubmit_doReset" id="reset_button" onclick="window.siteInfoManager.resetForm();" disabled/>

<script language="javascript">
function configurationSiteInfoTabChange(obj) {
    if(obj.newValue.get("href")=="#siteInfo") {
        if(window.siteInfoManager==undefined) {
            window.siteInfoManager = new SettingsTabManager('site_info_mgmt_div', siteInfoControls);
        }
    }
}

function addSiteInfoMgmtMonitor(){
    if(window.configurationTabView.get("activeTab").get("href")=="#siteInfo") {
        if(window.siteInfoManager==undefined) {
            window.siteInfoManager = new SettingsTabManager('site_info_mgmt_div', siteInfoControls);
        }
    } else {
        window.configurationTabView.subscribe("activeTabChange", configurationSiteInfoTabChange);
    }
}

YAHOO.util.Event.onDOMReady(addSiteInfoMgmtMonitor);
var siteInfoControls = ['siteId', 'siteUrl', 'siteAdminEmail', 'smtpHost'];
</script>
